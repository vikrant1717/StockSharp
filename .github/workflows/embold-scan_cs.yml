name: .NET
on:
push:
branches: [ "master" ]
pull_request:
branches: [ "master" ]
jobs:
build:
runs-on: ubuntu-latest
container: ubuntu:24.04
steps:
- uses: actions/checkout@v4
- name: Setup .NET
uses: actions/setup-dotnet@v4
with:
dotnet-version: 3.0.x
- name: Install libssl dependency
run: |
apt-get update
apt-get install libssl1.1 -y
- name: Embold Analyse
run: |
curl https://v1.embold.io/nfs/CLI/browserstack-codequality-scanner.tar.gz -o browserstack-codequality-scanner-archive.tar.gz
tar xvf browserstack-codequality-scanner-archive.tar.gz
echo "Download and extract BrowserStack CQ Scanner done"
curl --silent --location --request GET "http://3.66.212.6:3000/api/v1/repositories/4e81fd57d6d8ad28ee3cbecb3ba7c070/scans/config/download" --header "Authorization:Bearer ${{ secrets.EMBOLD_SCAN_TOKEN_CS}}" -o repository-configuration.json
echo "Download repository configuration file done"
./browserstack-codequality-scanner/bin/embold-scanner analyse -u http://3.66.212.6:3000 -t ${{ secrets.EMBOLD_SCAN_TOKEN_CS }} -r 4e81fd57d6d8ad28ee3cbecb3ba7c070 -b . -d ./embold-data -c ./repository-configuration.json -l ./embold-log -sh $GITHUB_WORKSPACE/embold-scanner-home -v
